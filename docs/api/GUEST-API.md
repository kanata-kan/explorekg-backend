# ğŸ‘¤ Guest API - Ù†Ø¸Ø§Ù… Ø§Ù„Ø¶ÙŠÙˆÙ

## ğŸ“‹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

- [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#-Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
- [Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ù‡Ø§ÙŠØ©](#-Ù†Ù‚Ø§Ø·-Ø§Ù„Ù†Ù‡Ø§ÙŠØ©)
- [Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…](#-Ø£Ù…Ø«Ù„Ø©-Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…)

---

## ğŸŒŸ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø§Ù„Ø¶ÙŠÙˆÙ ÙŠØ³Ù…Ø­ Ù„Ù„Ø²ÙˆØ§Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†ØµØ© Ø¨Ø¯ÙˆÙ† Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø¦Ù…. ÙŠØªÙ… Ø¥ØµØ¯Ø§Ø± **UUID Session ID** Ù„ÙƒÙ„ Ø¶ÙŠÙ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ø¹Ø¯ 24 Ø³Ø§Ø¹Ø©.

**Base URL**: `/api/v1/guests`

---

## ğŸ“ Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ù‡Ø§ÙŠØ©

### 1. Ø¥Ù†Ø´Ø§Ø¡ Ø¶ÙŠÙ Ø¬Ø¯ÙŠØ¯

```http
POST /api/v1/guests
```

**Request Body**:

```json
{
  "email": "tourist@example.com",
  "name": "Ahmed Khan",
  "phone": "+996700123456"
}
```

**Response** (201):

```json
{
  "success": true,
  "data": {
    "sessionId": "a7b8f226-48ee-4df9-b2f2-8ca9637e02c8",
    "email": "tourist@example.com",
    "name": "Ahmed Khan",
    "phone": "+996700123456",
    "expiresAt": "2025-11-03T10:30:00.000Z"
  }
}
```

---

### 2. Ø¬Ù„Ø¨ Ø¶ÙŠÙ Ø¨Ø§Ù„Ù€ Session ID

```http
GET /api/v1/guests/:sessionId
```

**Response** (200):

```json
{
  "success": true,
  "data": {
    "sessionId": "a7b8f226-48ee-4df9-b2f2-8ca9637e02c8",
    "email": "tourist@example.com",
    "name": "Ahmed Khan",
    "expiresAt": "2025-11-03T10:30:00.000Z"
  }
}
```

---

### 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ

```http
PATCH /api/v1/guests/:sessionId/profile
```

**Request Body**:

```json
{
  "name": "Ahmed Khan Updated",
  "phone": "+996700999888"
}
```

---

### 4. ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø©

```http
POST /api/v1/guests/:sessionId/renew
```

**Response** (200):

```json
{
  "success": true,
  "data": {
    "expiresAt": "2025-11-04T10:30:00.000Z"
  }
}
```

---

### 5. Ø­Ø°Ù Ø¶ÙŠÙ

```http
DELETE /api/v1/guests/:sessionId
```

**Response** (204): No Content

---

### 6. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø©

```http
GET /api/v1/guests/:sessionId/verify
```

**Response** (200):

```json
{
  "success": true,
  "data": {
    "valid": true,
    "expiresAt": "2025-11-03T10:30:00.000Z"
  }
}
```

---

### 7. Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¶ÙŠÙˆÙ (Admin)

```http
GET /api/v1/guests?page=1&limit=10
```

---

### 8. Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø¶ÙŠÙ

```http
GET /api/v1/guests/:sessionId/bookings
```

---

### 9. ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©

```http
POST /api/v1/guests/cleanup
```

---

### 10. Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ

```http
GET /api/v1/guests/:sessionId/profile
```

---

## ğŸ’¡ Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### cURL

```bash
# Create Guest
curl -X POST http://localhost:4000/api/v1/guests \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","name":"Test User"}'

# Get Guest
curl http://localhost:4000/api/v1/guests/a7b8f226-48ee-4df9-b2f2-8ca9637e02c8
```

### JavaScript (Fetch)

```javascript
// Create Guest
const response = await fetch('http://localhost:4000/api/v1/guests', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    email: 'tourist@example.com',
    name: 'Ahmed Khan',
  }),
});
const data = await response.json();
console.log(data.data.sessionId);
```

---

_ğŸ“˜ Auto-generated by Copilot Documentation Architect â€” ExploreKG Server Project_
