# ๐ฅ ูุธุงู ุงูุถููู - Guest System

## ๐ ุงููุญุชููุงุช

- [ูุธุฑุฉ ุนุงูุฉ](#-ูุธุฑุฉ-ุนุงูุฉ)
- [ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ](#-ุงูููุฒุงุช-ุงูุฑุฆูุณูุฉ)
- [ุงููุนูุงุฑูุฉ](#-ุงููุนูุงุฑูุฉ)
- [UUID Sessions](#-uuid-sessions)
- [TTL ู Auto-Cleanup](#-ttl-ู-auto-cleanup)

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูุถููู ูุชูุญ ูููุณุชุฎุฏููู ุชุตูุญ ุงูููุตุฉ ูุฅุฌุฑุงุก ุญุฌูุฒุงุช **ุจุฏูู ุฅูุดุงุก ุญุณุงุจ ุฏุงุฆู**. ูุชู ุฅุตุฏุงุฑ ุฌูุณุฉ ูุคูุชุฉ (UUID) ุตุงูุญุฉ ููุฏุฉ 24 ุณุงุนุฉ.

---

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฌูุณุงุช UUID

- ุชูููุฏ **UUID v4** ูุฑูุฏ ููู ุถูู
- ูุง ููุดู ูุนูููุงุช ุนู ุงููุธุงู
- ุขูู ุถุฏ ุงูุชุฎููู

### 2. ุงูุชูุงุก ุชููุงุฆู (TTL)

- ุงูุฌูุณุงุช ุชูุชูู ุจุนุฏ **24 ุณุงุนุฉ**
- ุญุฐู ุชููุงุฆู ุจูุงุณุทุฉ MongoDB TTL Index

### 3. ุชุฌุฏูุฏ ุงูุฌูุณุงุช

- ุฅููุงููุฉ ุชูุฏูุฏ ุงูุฌูุณุฉ ูู 24 ุณุงุนุฉ ุฅุถุงููุฉ

### 4. ุญูุธ ุงููุนูููุงุช

- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงูุงุณู
- ุฑูู ุงููุงุชู (ุงุฎุชูุงุฑู)

---

## ๐๏ธ ุงููุนูุงุฑูุฉ

### Components

```
guest.model.ts        # Mongoose Schema ูุน TTL
guest.service.ts      # 10 business functions
guest.controller.ts   # 10 HTTP handlers
guest.routes.ts       # 10 API endpoints
guest.validator.ts    # Zod validation schemas
```

### Data Model

```typescript
interface IGuest {
  sessionId: string; // UUID v4
  email: string;
  name: string;
  phone?: string;
  expiresAt: Date; // now + 24h
  createdAt: Date;
  updatedAt: Date;
}
```

---

## ๐ UUID Sessions

### ุงูุชูููุฏ

```typescript
import { v4 as uuidv4 } from 'uuid';
const sessionId = uuidv4();
// "a7b8f226-48ee-4df9-b2f2-8ca9637e02c8"
```

### ุงููุฒุงูุง

โ Collision-free (1 ูู 2^122)  
โ Secure & Random  
โ Privacy-friendly

---

## โฐ TTL ู Auto-Cleanup

### MongoDB TTL Index

```javascript
GuestSchema.index({ expiresAt: 1 }, { expireAfterSeconds: 0 });
```

### ููู ูุนููุ

1. ุนูุฏ ุฅูุดุงุก ุถูู: `expiresAt = now + 24h`
2. MongoDB ุชูุญุต ูู 60 ุซุงููุฉ
3. ุฅุฐุง `expiresAt < now` โ ุญุฐู ุชููุงุฆู

---

## ๐ Statistics

```
Total Endpoints: 10
Response Time: ~200ms average
Session Duration: 24 hours
Auto-cleanup: Every 60 seconds
```

---

_๐ Auto-generated by Copilot Documentation Architect โ ExploreKG Server Project_
